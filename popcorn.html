<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <h1>async await</h1>

    <script>
        console.log('person1:shows Ticket');

        console.log('person2:shows Ticket');

        //using promises

        const promiseWifebringingTicket = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve('ticket');
            }, 3000)
        })

        const popcorn = promiseWifebringingTicket.then((res) => {
            console.log('husband we should go in');
            console.log('wife:no i am hungry');
            return new Promise((resolve, reject) => {
                resolve('ticket popcorn');
            });
        })
        const getbutter = popcorn.then((res) => {
            console.log('husband we should go in');
            console.log('wife:no i need butter on my popcorn');
            return new Promise((resolve, reject) => {
                resolve('ticket butter')
            })
        })
        getbutter.then((res) => {
            console.log(res);
        })


        using async / await
        async function premovie() {
            const promiseWifebringingTickets = new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('ticket')
                    resolve('ticket')
                }, 2000)
            })
            const getpopcorn = new Promise((resolve, reject) => {

                resolve('popcorn');
            })

            let addButter = new Promise((resolve, reject) => {
                resolve('Butter');
            })

            const getCandy = new Promise((resolve, reject) => {
                resolve('candy');
            })

            const getCoke = new Promise((resolve, reject) => {
                resolve('coke');
            })
            let ticket = await promiseWifebringingTickets;
            console.log('husband we should go in');
            console.log('wife:no i am hungry');
            console.log('wife: no iam hungry');

            let popcorn = await getpopcorn;
            console.log('husband: i got some popcorn');
            console.log('husband:we should go in');
            console.log('wife:I need butter on my popcorn');

            let butter = await addButter;
            console.log('husband: i got some butter');

            console.log('husband: anything else darling');
            console.log('wife:lets got we are getting late');

            return ticket;

        }
        premovie();


        //promise.all with async/await

        async function premovie() {
            const promiseWifebringingTickets = new Promise((resolve, reject) => {
                setTimeout(() => {

                    resolve('ticket')
                }, 2000)
            })
            const getpopcorn = new Promise((resolve, reject) => {

                resolve('popcorn');
            })

            let addButter = new Promise((resolve, reject) => {

                resolve('Butter');
            })

            const getCandy = new Promise((resolve, reject) => {

                resolve('candy');
            })

            const getCoke = new Promise((resolve, reject) => {

                resolve('coke');
            })


            let ticket = await promiseWifebringingTickets;




            let [popcorn, butter, candy, coke] = await Promise.all([getpopcorn, addButter, getCandy, getCoke])
            console.log('popcorn,candy,coke');

            return ticket;

        }
        premovie().then((res) => console.log('person3 shows ticket'));

        console.log('person4:shows Ticket');

        console.log('person5:shows Ticket');



    </script>

</body>

</html>